{"is_source_file": true, "format": "JavaScript", "description": "This file defines a set of client-side API utility functions for communicating with a backend server in a web application. It includes functions for scraping URLs, uploading files, confirming company data, generating teasers, updating teasers, and exporting teaser PDFs. The functions handle request setup, response normalization, error handling, and export the API interface for use elsewhere in the frontend web project.", "external_files": ["fetch", "window.XMLHttpRequest", "FormData", "Blob", "Error"], "external_methods": ["fetch", "resp.headers.get", "resp.json", "resp.text", "resp.blob"], "published": ["apiScrape", "apiUploadFiles", "apiCompanyConfirm", "apiGenerateTeaser", "apiUpdateTeaser", "apiExportTeaserPdf"], "classes": [], "methods": [{"name": "handleResp(resp)", "description": "Handles fetch responses, normalizes errors, parses JSON or text based on content-type.", "scope": "", "scopeKind": ""}, {"name": "apiScrape(url)", "description": "Calls the backend API to perform a web scrape of a URL, returning parsed results.", "scope": "", "scopeKind": ""}, {"name": "apiUploadFiles(files, company_id = null, onProgress = null)", "description": "Uploads files to the backend server with optional company ID and progress callback, returns response data.", "scope": "", "scopeKind": ""}, {"name": "apiCompanyConfirm(company)", "description": "Confirms company data with the backend, returning a session ID.", "scope": "", "scopeKind": ""}, {"name": "apiGenerateTeaser(session_id, selected_files = undefined)", "description": "Requests teaser generation for a session, with optional selected files.", "scope": "", "scopeKind": ""}, {"name": "apiUpdateTeaser(teaser_id, title, content)", "description": "Updates a specific teaser with a new title and content.", "scope": "", "scopeKind": ""}, {"name": "apiExportTeaserPdf(teaser_id)", "description": "Downloads the teaser as a PDF blob from the backend.", "scope": "", "scopeKind": ""}, {"name": "AnonymousFunction551656c20100()", "scope": "apiUploadFiles", "scopeKind": "function", "description": "unavailable"}, {"name": "AnonymousFunction551656c20200()", "scope": "apiUploadFiles", "scopeKind": "function", "description": "unavailable"}], "calls": ["fetch", "resp.headers.get", "resp.json", "resp.text", "resp.blob", "xhr.open", "xhr.onload", "xhr.onerror", "xhr.upload.onprogress"], "search-terms": ["frontend_web/src/api.js", "API_BASE", "handleResp", "apiScrape", "apiUploadFiles", "apiCompanyConfirm", "apiGenerateTeaser", "apiUpdateTeaser", "apiExportTeaserPdf"], "state": 2, "file_id": 28, "knowledge_revision": 74, "git_revision": "", "ctags": [{"_type": "tag", "name": "API_BASE", "path": "/home/kavia/workspace/code-generation/investment-teaser-generator-127566-127576/frontend_web/src/api.js", "pattern": "/^const API_BASE = \"\"; \\/\\/ override to e.g. \"\\/api\" if proxied or add full host for local testing$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "AnonymousFunction551656c20100", "path": "/home/kavia/workspace/code-generation/investment-teaser-generator-127566-127576/frontend_web/src/api.js", "pattern": "/^    xhr.onload = function () {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "apiUploadFiles", "scopeKind": "function"}, {"_type": "tag", "name": "AnonymousFunction551656c20200", "path": "/home/kavia/workspace/code-generation/investment-teaser-generator-127566-127576/frontend_web/src/api.js", "pattern": "/^    xhr.onerror = function () {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "apiUploadFiles", "scopeKind": "function"}, {"_type": "tag", "name": "apiCompanyConfirm", "path": "/home/kavia/workspace/code-generation/investment-teaser-generator-127566-127576/frontend_web/src/api.js", "pattern": "/^export async function apiCompanyConfirm(company) {$/", "language": "JavaScript", "kind": "function", "signature": "(company)"}, {"_type": "tag", "name": "apiExportTeaserPdf", "path": "/home/kavia/workspace/code-generation/investment-teaser-generator-127566-127576/frontend_web/src/api.js", "pattern": "/^export async function apiExportTeaserPdf(teaser_id) {$/", "language": "JavaScript", "kind": "function", "signature": "(teaser_id)"}, {"_type": "tag", "name": "apiGenerateTeaser", "path": "/home/kavia/workspace/code-generation/investment-teaser-generator-127566-127576/frontend_web/src/api.js", "pattern": "/^export async function apiGenerateTeaser(session_id, selected_files = undefined) {$/", "language": "JavaScript", "kind": "function", "signature": "(session_id, selected_files = undefined)"}, {"_type": "tag", "name": "apiScrape", "path": "/home/kavia/workspace/code-generation/investment-teaser-generator-127566-127576/frontend_web/src/api.js", "pattern": "/^export async function apiScrape(url) {$/", "language": "JavaScript", "kind": "function", "signature": "(url)"}, {"_type": "tag", "name": "apiUpdateTeaser", "path": "/home/kavia/workspace/code-generation/investment-teaser-generator-127566-127576/frontend_web/src/api.js", "pattern": "/^export async function apiUpdateTeaser(teaser_id, title, content) {$/", "language": "JavaScript", "kind": "function", "signature": "(teaser_id, title, content)"}, {"_type": "tag", "name": "apiUploadFiles", "path": "/home/kavia/workspace/code-generation/investment-teaser-generator-127566-127576/frontend_web/src/api.js", "pattern": "/^export async function apiUploadFiles(files, company_id = null, onProgress = null) {$/", "language": "JavaScript", "kind": "function", "signature": "(files, company_id = null, onProgress = null)"}, {"_type": "tag", "name": "handleResp", "path": "/home/kavia/workspace/code-generation/investment-teaser-generator-127566-127576/frontend_web/src/api.js", "pattern": "/^async function handleResp(resp) {$/", "language": "JavaScript", "kind": "function", "signature": "(resp)"}, {"_type": "tag", "name": "session_id", "path": "/home/kavia/workspace/code-generation/investment-teaser-generator-127566-127576/frontend_web/src/api.js", "pattern": "/^  const body = { session_id };$/", "language": "JavaScript", "kind": "field", "scope": "apiGenerateTeaser.body", "scopeKind": "class"}], "hash": "c2274e6f25c0307129720c3adfad3da7", "format-version": 4, "code-base-name": "frontend_web", "filename": "frontend_web/src/api.js", "fields": [{"name": "const body = { session_id };", "scope": "apiGenerateTeaser.body", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"74": ""}]}